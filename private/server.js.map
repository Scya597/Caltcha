{"version":3,"sources":["webpack:///server.js","webpack:///webpack/bootstrap 5dc0a4e094c85a33638c","webpack:///./test.json","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"webpack\"","webpack:///./server/api/routes.js","webpack:///./server/auth.js","webpack:///external \"mongoose\"","webpack:///./server/config.js","webpack:///./webpack.dev.config.js","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"express-session\"","webpack:///external \"passport\"","webpack:///external \"passport-local\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./server/api/controllers/posts_controller.js","webpack:///./server/api/models/Post.js","webpack:///(webpack)-dashboard/plugin/index.js","webpack:///external \"html-webpack-plugin\"","webpack:///external \"net\"","webpack:///external \"socket.io-client\"","webpack:///./server/server.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","prototype","hasOwnProperty","p","s","team","id","members","projects","user","username","realname","email","project","title","minDuration","description","location","finaldate","date","time","from","to","deadline","ended","superuser","normaluser","optionaluser","closeduser","votes","userid","dates","require","_interopRequireDefault","obj","default","isAuth","req","res","next","isAuthenticated","console","log","redirect","_express","_express2","_posts_controller","_posts_controller2","router","Router","getteamanduser","getprojects","post","createnewproject","updateproject","getstats","uservote","rmproject","_test","_test2","path","sendFile","join","__dirname","body","find","item","logIn","logOut","env","process","nodeEnv","mongodbUri","port","PORT","host","HOST","serverUrl","this","webpack","HtmlWebpackPlugin","DashboardPlugin","hotMiddlewareScript","reactHotLoaderScript","entry","bundle","output","filename","publicPath","devtool","loaders","test","loader","exclude","plugins","HotModuleReplacementPlugin","NoErrorsPlugin","template","_Post","teams","users","senduser","sendteam","userId","params","length","j","push","send","sendproject","newproject","request","projectId","b","splice","_mongoose","_mongoose2","PostSchema","Schema","String","content","Post","model","noop","options","handler","getTimeMessage","timer","Date","now","Math","round","SocketIOClient","apply","compiler","socket","on","emit","bind","ProgressPlugin","percent","msg","type","plugin","stats","compilation","statsOptions","devServer","colors","errors","hasErrors","warnings","hasWarnings","data","toJson","toString","_passport","_passport2","_passportLocal","_passportLocal2","_bodyParser","_bodyParser2","_cookieParser","_cookieParser2","_expressSession","_expressSession2","_config","_config2","server","LocalStrategy","Strategy","use","urlencoded","extended","password","done","message","serializeUser","deserializeUser","secret","cookie","maxAge","resave","saveUninitialized","initialize","session","webpackMiddleware","webpackHotMiddleware","webpackDevConfig","middleware","Promise","global","connect","MONGODB_URI","json","err","status","error","listen","info"],"mappings":"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","file":"server.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 22);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\nmodule.exports = {\"team\":{\"id\":\"teamid\",\"name\":\"Autumn\",\"members\":[\"userid\",\"Jennifer\",\"Scarlett\",\"Maximus\",\"Samuel\"],\"projects\":[\"projectid\",\"hihi\",\"testproject\"]},\"user\":{\"id\":\"userid\",\"username\":\"Benson\",\"realname\":\"Superman\",\"email\":\"superman@gmail.com\",\"team\":[\"Autumn\",\"Facebook\"]},\"project\":{\"team\":\"teamid\",\"id\":\"projectid\",\"title\":\"testproject\",\"minDuration\":4,\"description\":\"testdescription\",\"location\":\"moon\",\"finaldate\":{\"date\":20170831,\"time\":{\"from\":900,\"to\":1200}},\"deadline\":20170820,\"ended\":false,\"superuser\":\"userid\",\"normaluser\":[\"Jennifer\",\"Scarlett\"],\"optionaluser\":[\"Maximus\"],\"closeduser\":[\"Samuel\"],\"votes\":[{\"userid\":\"Jennifer\",\"dates\":[{\"date\":20170729,\"time\":[{\"from\":930,\"to\":1200},{\"from\":1500,\"to\":1800}]}]}]}}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"express\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"path\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"webpack\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';var _express=__webpack_require__(1),_express2=_interopRequireDefault(_express),_posts_controller=__webpack_require__(16),_posts_controller2=_interopRequireDefault(_posts_controller);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isAuth(req,res,next){req.isAuthenticated()?(console.log('Authenticated user '+req.user+' is calling APIs(routes.js).'),next()):(res.redirect('/login'),console.log('isLogin: '+('undefined'!=typeof req.user)),console.log('Someone not Authenticated tries to call APIs.(routes.js)'))}var router=_express2.default.Router();router.get('/profile/:userId',isAuth,_posts_controller2.default.getteamanduser),router.get('/project/data/:userId',isAuth,_posts_controller2.default.getprojects),router.post('/project/new/',isAuth,_posts_controller2.default.createnewproject),router.post('/project/update/:userId',isAuth,_posts_controller2.default.updateproject),router.get('/project/stats/:projectId/:userId',isAuth,_posts_controller2.default.getstats),router.post('/project/vote/:userId',isAuth,_posts_controller2.default.uservote),router.delete('/project/remove/:userId',isAuth,_posts_controller2.default.rmproject),module.exports=router;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';var _express=__webpack_require__(1),_express2=_interopRequireDefault(_express),_test=__webpack_require__(0),_test2=_interopRequireDefault(_test);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var path=__webpack_require__(2),router=_express2.default.Router();router.get('/login',function(req,res){res.sendFile(path.join(__dirname,'../login.html'))}),router.post('/login',function(req,res){console.log(req.body.username+' is trying to login.(auth.js)');var user=_test2.default.team.members.find(function(item){return item===req.body.username});user?req.logIn(user,function(){res.redirect('/')}):res.redirect('/login')}),router.get('/logout',function(req,res){console.log(req.user+' logout.(auth.js)'),req.logOut(),res.redirect('/login')}),module.exports=router;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"mongoose\");\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var env=process.env,nodeEnv=exports.nodeEnv=\"production\"||'development';exports.default={mongodbUri:'mongodb://localhost:27017/test',port:env.PORT||8080,host:env.HOST||'0.0.0.0',get serverUrl(){return'http://'+this.host+':'+this.port}};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';var path=__webpack_require__(2),webpack=__webpack_require__(3),HtmlWebpackPlugin=__webpack_require__(19),DashboardPlugin=__webpack_require__(18),hotMiddlewareScript='webpack-hot-middleware/client',reactHotLoaderScript='react-hot-loader/patch';module.exports={entry:{bundle:[hotMiddlewareScript,reactHotLoaderScript,'./src/index.js']},output:{filename:'bundle.js',path:path.join(__dirname,'public'),publicPath:'/'},devtool:'eval',module:{loaders:[{test:/\\.json$/,loader:'json-loader'},{test:/\\.js$/,loaders:['react-hot-loader/webpack','babel'],exclude:/node_modules/},{test:/\\.scss$/,loader:'style!css!sass'}]},plugins:[new webpack.HotModuleReplacementPlugin,new webpack.NoErrorsPlugin,new HtmlWebpackPlugin({template:'./src/template.html',filename:'index.html'}),new DashboardPlugin]};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"body-parser\");\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"cookie-parser\");\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"express-session\");\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"passport\");\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"passport-local\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"webpack-dev-middleware\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"webpack-hot-middleware\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';var _Post=__webpack_require__(17),_Post2=_interopRequireDefault(_Post);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var test=__webpack_require__(0),teams=[test.team],users=[test.user],projects=[test.project];module.exports={getteamanduser:function getteamanduser(req,res){var senduser,sendteam=[],userId=req.params.userId;console.log(userId);for(var i=0;i<teams.length;i++)for(var j=0;j<teams[i].members.length;j++)userId===teams[i].members[j]&&sendteam.push(teams[i]);for(var _i=0;_i<users.length;_i++)userId===users[_i].id&&(senduser=users[_i],console.log(senduser),console.log(sendteam));console.log(senduser),res.send({teams:sendteam,user:senduser})},getprojects:function getprojects(req,res){for(var sendproject=[],userId=req.params.userId,i=0;i<projects.length;i++)if(userId===projects[i].superuser)sendproject.push(projects[i]);else{for(var j=0;j<projects[i].normaluser.length;j++)userId===projects[i].normaluser[j]&&sendproject.push(projects[i]);for(var _j=0;_j<projects[i].optionaluser.length;_j++)userId===projects[i].optionaluser[_j]&&sendproject.push(projects[i])}res.send({projects:sendproject})},createnewproject:function createnewproject(req,res){var newproject=req.body;projects.push(newproject),res.send('Create '+newproject.title+' Successfully')},updateproject:function updateproject(req,res){for(var request=req.body,userId=req.params.userId,i=0;i<projects.length;i++)projects[i].id===request.projectId&&projects[i].superuser===userId&&(projects[i].ended=request.ended,projects[i].deadline=request.deadline,res.send('You have updated '+projects[i].title+' successfully!!'))},getstats:function getstats(){},uservote:function uservote(req,res){for(var request=req.body,userId=req.params.userId,b=1,i=0;i<projects.length;i++)if(projects[i].id===request.projectId){for(var j=0;j<projects[i].votes.length;j++)projects[i].votes[j].userid===userId&&(projects[i].votes[j].dates=request.dates,b=0,res.send('You have voted successfully!!'));b&&(projects[i].votes.push({userid:userId,dates:request.dates}),res.send('You have voted successfully!!'))}},rmproject:function rmproject(req,res){for(var request=req.body,userId=req.params.userId,i=0;i<projects.length;i++)projects[i].id===request.projectId&&projects[i].superuser===userId&&(projects.splice(i,1),res.send('You have removed '+projects[i].title+' successfully!!'))}};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';var _mongoose=__webpack_require__(6),_mongoose2=_interopRequireDefault(_mongoose);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PostSchema=new _mongoose.Schema({title:String,content:String}),Post=_mongoose2.default.model('post',PostSchema);module.exports=Post;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* eslint-disable */\n\"use strict\";\n\nvar webpack = __webpack_require__(3);\nvar net = __webpack_require__(20);\nvar SocketIOClient = __webpack_require__(21);\n\nfunction noop() {}\n\nfunction DashboardPlugin(options) {\n  if (typeof options === \"function\") {\n    this.handler = options;\n  } else {\n    options = options || {};\n    this.port = options.port || 9838;\n    this.handler = options.handler || null;\n  }\n}\n\nfunction getTimeMessage(timer) {\n  var time = Date.now() - timer;\n\n  if (time >= 1000) {\n    time /= 1000;\n    time = Math.round(time);\n    time += 's';\n  } else {\n      time += 'ms';\n  }\n\n  return ' (' + time + ')';\n}\n\nDashboardPlugin.prototype.apply = function(compiler) {\n  var handler = this.handler;\n  var timer;\n\n  if (!handler) {\n    handler = noop;\n    var port = this.port;\n    var host = \"127.0.0.1\";\n    var socket = SocketIOClient(\"http://\" + host + \":\" + port);\n    socket.on(\"connect\", function() {\n      handler = socket.emit.bind(socket, \"message\");\n    });\n  }\n\n  compiler.apply(new webpack.ProgressPlugin(function (percent, msg) {\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Compiling\"\n    }, {\n      type: \"progress\",\n      value: percent\n    }, {\n      type: \"operations\",\n      value: msg + getTimeMessage(timer)\n    }]);\n  }));\n\n  compiler.plugin(\"compile\", function() {\n    timer = Date.now();\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Compiling\"\n    }]);\n  });\n\n  compiler.plugin(\"invalid\", function() {\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Invalidated\"\n    }, {\n      type: \"progress\",\n      value: 0\n    }, {\n      type: \"operations\",\n      value: \"idle\"\n    }, {\n      type: \"clear\"\n    }]);\n  });\n\n  compiler.plugin(\"done\", function(stats) {\n    var options = stats.compilation.options;\n    var statsOptions =\n      (options.devServer && options.devServer.stats)\n        || options.stats\n        || {colors: true};\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Success\"\n    }, {\n      type: \"progress\",\n      value: 0\n    }, {\n      type: \"operations\",\n      value: \"idle\" + getTimeMessage(timer)\n    }, {\n      type: \"stats\",\n      value: {\n        errors: stats.hasErrors(),\n        warnings: stats.hasWarnings(),\n        data: stats.toJson()\n      }\n    }, {\n      type: \"log\",\n      value: stats.toString(statsOptions)\n    }]);\n  });\n\n  compiler.plugin(\"failed\", function() {\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Failed\"\n    }, {\n      type: \"operations\",\n      value: \"idle\" + getTimeMessage(timer)\n    }]);\n  });\n\n}\n\nmodule.exports = DashboardPlugin;\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"html-webpack-plugin\");\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"net\");\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\nmodule.exports = require(\"socket.io-client\");\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';var _express=__webpack_require__(1),_express2=_interopRequireDefault(_express),_passport=__webpack_require__(12),_passport2=_interopRequireDefault(_passport),_passportLocal=__webpack_require__(13),_passportLocal2=_interopRequireDefault(_passportLocal),_bodyParser=__webpack_require__(9),_bodyParser2=_interopRequireDefault(_bodyParser),_cookieParser=__webpack_require__(10),_cookieParser2=_interopRequireDefault(_cookieParser),_mongoose=__webpack_require__(6),_mongoose2=_interopRequireDefault(_mongoose),_expressSession=__webpack_require__(11),_expressSession2=_interopRequireDefault(_expressSession),_test=__webpack_require__(0),_test2=_interopRequireDefault(_test),_config=__webpack_require__(7),_config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var server=(0,_express2.default)(),path=__webpack_require__(2),LocalStrategy=_passportLocal2.default.Strategy;if(server.use((0,_cookieParser2.default)()),server.use(_bodyParser2.default.urlencoded({extended:!0})),_passport2.default.use(new LocalStrategy(function(username,password,done){var user=_test2.default.team.members.find(function(item){return item===username});return user?done(null,user):done(null,!1,{message:'Incorrect username or password'})})),_passport2.default.serializeUser(function(user,done){done(null,user)}),_passport2.default.deserializeUser(function(user,done){done(null,user)}),server.use((0,_expressSession2.default)({secret:',DBj2%*N;Q\"?(T9{mS{EVWvZ2G3,3BG$I)n,?mZ_3@0*?pwT2,lh@SC\"jocVdbs',cookie:{maxAge:1e3*60},resave:!0,saveUninitialized:!1,name:'caltcha-sid'})),server.use(_passport2.default.initialize()),server.use(_passport2.default.session()),'dev'===\"production\"){var webpackMiddleware=__webpack_require__(14),webpackHotMiddleware=__webpack_require__(15),webpack=__webpack_require__(3),webpackDevConfig=__webpack_require__(8),compiler=webpack(webpackDevConfig),middleware=webpackMiddleware(compiler,{publicPath:webpackDevConfig.output.publicPath,stats:{colors:!0}});server.use(middleware),server.use(webpackHotMiddleware(compiler)),server.use('/api',__webpack_require__(4)),server.use('/',__webpack_require__(5)),server.get('/',function(req,res){'undefined'==typeof req.user?res.redirect('/login'):res.sendFile(path.join(__dirname,'../public/index.html'))})}else server.use(_express2.default.static('public')),server.use('/api',__webpack_require__(4)),server.use('/',__webpack_require__(5)),server.get('/',function(req,res){'undefined'==typeof req.user?res.redirect('/login'):res.sendFile(path.join(__dirname,'../public/index.html'))});_mongoose2.default.Promise=global.Promise,'test'!==\"production\"&&_mongoose2.default.connect(process.env.MONGODB_URI||'mongodb://localhost/blog'),server.use(_bodyParser2.default.json()),server.use(function(err,req,res,next){res.status(422).send({error:err.message}),next()}),server.listen(_config2.default.port,_config2.default.host,function(){console.info('Express listening on port',_config2.default.port),console.log(\"production\")});\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// server.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5dc0a4e094c85a33638c","module.exports = {\"team\":{\"id\":\"teamid\",\"name\":\"Autumn\",\"members\":[\"userid\",\"Jennifer\",\"Scarlett\",\"Maximus\",\"Samuel\"],\"projects\":[\"projectid\",\"hihi\",\"testproject\"]},\"user\":{\"id\":\"userid\",\"username\":\"Benson\",\"realname\":\"Superman\",\"email\":\"superman@gmail.com\",\"team\":[\"Autumn\",\"Facebook\"]},\"project\":{\"team\":\"teamid\",\"id\":\"projectid\",\"title\":\"testproject\",\"minDuration\":4,\"description\":\"testdescription\",\"location\":\"moon\",\"finaldate\":{\"date\":20170831,\"time\":{\"from\":900,\"to\":1200}},\"deadline\":20170820,\"ended\":false,\"superuser\":\"userid\",\"normaluser\":[\"Jennifer\",\"Scarlett\"],\"optionaluser\":[\"Maximus\"],\"closeduser\":[\"Samuel\"],\"votes\":[{\"userid\":\"Jennifer\",\"dates\":[{\"date\":20170729,\"time\":[{\"from\":930,\"to\":1200},{\"from\":1500,\"to\":1800}]}]}]}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./test.json\n// module id = 0\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 3\n// module chunks = 0","import server from 'express';\nimport PostsController from './controllers/posts_controller';\n\nfunction isAuth(req, res, next) {\n  if (req.isAuthenticated()) {\n    console.log(`Authenticated user ${req.user} is calling APIs(routes.js).`);\n    next();\n  } else {\n    res.redirect('/login');\n    console.log(`isLogin: ${typeof req.user !== 'undefined'}`);\n    console.log('Someone not Authenticated tries to call APIs.(routes.js)');\n  }\n}\n\nconst router = server.Router();\nrouter.get('/profile/:userId', isAuth, PostsController.getteamanduser);\nrouter.get('/project/data/:userId', isAuth, PostsController.getprojects);\nrouter.post('/project/new/', isAuth, PostsController.createnewproject);\nrouter.post('/project/update/:userId', isAuth, PostsController.updateproject);\nrouter.get('/project/stats/:projectId/:userId', isAuth, PostsController.getstats);\nrouter.post('/project/vote/:userId', isAuth, PostsController.uservote);\nrouter.delete('/project/remove/:userId', isAuth, PostsController.rmproject);\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/routes.js","import express from 'express';\nimport storage from '../test.json';\n\nconst path = require('path');\n\nconst router = express.Router();\n\nrouter.get('/login', (req, res) => {\n  res.sendFile(path.join(__dirname, '../login.html'));\n});\nrouter.post('/login', (req, res) => {\n  console.log(`${req.body.username} is trying to login.(auth.js)`);\n  const user = storage.team.members.find(item => (item === req.body.username));\n  if (user) {\n    req.logIn(user, () => {\n      res.redirect('/');\n    });\n  } else {\n    res.redirect('/login');\n  }\n});\nrouter.get('/logout', (req, res) => {\n  console.log(`${req.user} logout.(auth.js)`);\n  req.logOut();\n  res.redirect('/login');\n});\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./server/auth.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 6\n// module chunks = 0","const env = process.env;\n\nexport const nodeEnv = env.NODE_ENV || 'development';\n\nexport default {\n  mongodbUri: 'mongodb://localhost:27017/test',\n  port: env.PORT || 8080,\n  host: env.HOST || '0.0.0.0',\n  get serverUrl() {\n    return `http://${this.host}:${this.port}`;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/config.js","const path = require('path');\nconst webpack = require('webpack');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst DashboardPlugin = require('webpack-dashboard/plugin');\n// const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;\n\nconst hotMiddlewareScript = 'webpack-hot-middleware/client';\nconst reactHotLoaderScript = 'react-hot-loader/patch';\n\n\nmodule.exports = {\n  entry: {\n    bundle: [\n      hotMiddlewareScript,\n      reactHotLoaderScript,\n      './src/index.js',\n    ],\n  },\n  output: {\n    filename: 'bundle.js',\n    path: path.join(__dirname, 'public'),\n    publicPath: '/',\n  },\n  devtool: 'eval',\n  module: {\n    loaders: [\n      {\n        test: /\\.json$/,\n        loader: 'json-loader',\n      },\n      {\n        test: /\\.js$/,\n        loaders: ['react-hot-loader/webpack', 'babel'],\n        exclude: /node_modules/,\n      },\n      {\n        test: /\\.scss$/,\n        loader: 'style!css!sass',\n      },\n    ],\n  },\n  plugins: [\n    // new BundleAnalyzerPlugin(),\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoErrorsPlugin(),\n    new HtmlWebpackPlugin({\n      template: './src/template.html',\n      filename: 'index.html',\n    }),\n    new DashboardPlugin(),\n  ],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./webpack.dev.config.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 15\n// module chunks = 0","import Post from '../models/Post';\n\nconst test = require('../../../test.json');\n\nconst teams = [test.team];\nconst users = [test.user];\nconst projects = [test.project];\n\nmodule.exports = {\n\n  getteamanduser(req, res) {\n    let sendteam = [];\n    let senduser;\n    const userId = req.params.userId;\n    console.log(userId);\n    for (let i = 0; i < teams.length; i++) {\n      for (let j = 0; j < teams[i].members.length; j++) {\n        if (userId === teams[i].members[j]) {\n          sendteam.push(teams[i]);\n        }\n      }\n    }\n    for (let i = 0; i < users.length; i++) {\n      if (userId === users[i].id) {\n        senduser = users[i];\n        console.log(senduser);\n        console.log(sendteam);\n      }\n    }\n    console.log(senduser);\n    res.send({ teams: sendteam, user: senduser });\n  },\n\n  getprojects(req, res) {\n    let sendproject = [];\n    const userId = req.params.userId;\n    for (let i = 0; i < projects.length; i++) {\n      if (userId === projects[i].superuser) {\n        sendproject.push(projects[i]);\n      } else {\n        for (let j = 0; j < projects[i].normaluser.length; j++) {\n          if (userId === projects[i].normaluser[j]) {\n            sendproject.push(projects[i]);\n          }\n        }\n        for (let j = 0; j < projects[i].optionaluser.length; j++) {\n          if (userId === projects[i].optionaluser[j]) {\n            sendproject.push(projects[i]);\n          }\n        }\n      }\n    }\n    res.send({ projects: sendproject });\n  },\n\n  createnewproject(req, res) {\n    const newproject = req.body;\n    projects.push(newproject);\n    res.send(`Create ${newproject.title} Successfully`);\n  },\n\n  updateproject(req, res) {\n    const request = req.body;\n    const userId = req.params.userId;\n    for (let i = 0; i < projects.length; i++) {\n      if (projects[i].id === request.projectId) {\n        if (projects[i].superuser === userId) {\n          projects[i].ended = request.ended;\n          projects[i].deadline = request.deadline;\n          res.send(`You have updated ${projects[i].title} successfully!!`);\n        } else {\n          //res.send('You are not superuser, so you cannot update this project!');\n        }\n      }\n    }\n  },\n\n  getstats(req, res) {\n\n  },\n\n  uservote(req, res) {\n    const request = req.body;\n    const userId = req.params.userId;\n    let b = 1;\n    for (let i = 0; i < projects.length; i++) {\n      if (projects[i].id === request.projectId) {\n        for (let j = 0; j < projects[i].votes.length; j++) {\n          if (projects[i].votes[j].userid === userId) {\n            projects[i].votes[j].dates = request.dates;\n            b = 0;\n            res.send('You have voted successfully!!')\n          }\n        }\n        if (b) {\n          projects[i].votes.push({ userid: userId, dates: request.dates });\n          res.send('You have voted successfully!!')\n        }\n      }\n    }\n  },\n  rmproject(req, res) {\n    const request = req.body;\n    const userId = req.params.userId;\n    for (let i = 0; i < projects.length; i++) {\n      if (projects[i].id === request.projectId) {\n        if (projects[i].superuser === userId) {\n          projects.splice(i, 1);\n          res.send(`You have removed ${projects[i].title} successfully!!`);\n        } else {\n          //res.send('You are not superuser, so you cannot delete this project!');\n        }\n      }\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/posts_controller.js","import mongoose, { Schema } from 'mongoose';\n\nconst PostSchema = new Schema({\n  title: String,\n  content: String,\n});\n\nconst Post = mongoose.model('post', PostSchema);\n\nmodule.exports = Post;\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/models/Post.js","/* eslint-disable */\n\"use strict\";\n\nvar webpack = require(\"webpack\");\nvar net = require(\"net\");\nvar SocketIOClient = require(\"socket.io-client\");\n\nfunction noop() {}\n\nfunction DashboardPlugin(options) {\n  if (typeof options === \"function\") {\n    this.handler = options;\n  } else {\n    options = options || {};\n    this.port = options.port || 9838;\n    this.handler = options.handler || null;\n  }\n}\n\nfunction getTimeMessage(timer) {\n  var time = Date.now() - timer;\n\n  if (time >= 1000) {\n    time /= 1000;\n    time = Math.round(time);\n    time += 's';\n  } else {\n      time += 'ms';\n  }\n\n  return ' (' + time + ')';\n}\n\nDashboardPlugin.prototype.apply = function(compiler) {\n  var handler = this.handler;\n  var timer;\n\n  if (!handler) {\n    handler = noop;\n    var port = this.port;\n    var host = \"127.0.0.1\";\n    var socket = SocketIOClient(\"http://\" + host + \":\" + port);\n    socket.on(\"connect\", function() {\n      handler = socket.emit.bind(socket, \"message\");\n    });\n  }\n\n  compiler.apply(new webpack.ProgressPlugin(function (percent, msg) {\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Compiling\"\n    }, {\n      type: \"progress\",\n      value: percent\n    }, {\n      type: \"operations\",\n      value: msg + getTimeMessage(timer)\n    }]);\n  }));\n\n  compiler.plugin(\"compile\", function() {\n    timer = Date.now();\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Compiling\"\n    }]);\n  });\n\n  compiler.plugin(\"invalid\", function() {\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Invalidated\"\n    }, {\n      type: \"progress\",\n      value: 0\n    }, {\n      type: \"operations\",\n      value: \"idle\"\n    }, {\n      type: \"clear\"\n    }]);\n  });\n\n  compiler.plugin(\"done\", function(stats) {\n    var options = stats.compilation.options;\n    var statsOptions =\n      (options.devServer && options.devServer.stats)\n        || options.stats\n        || {colors: true};\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Success\"\n    }, {\n      type: \"progress\",\n      value: 0\n    }, {\n      type: \"operations\",\n      value: \"idle\" + getTimeMessage(timer)\n    }, {\n      type: \"stats\",\n      value: {\n        errors: stats.hasErrors(),\n        warnings: stats.hasWarnings(),\n        data: stats.toJson()\n      }\n    }, {\n      type: \"log\",\n      value: stats.toString(statsOptions)\n    }]);\n  });\n\n  compiler.plugin(\"failed\", function() {\n    handler.call(null, [{\n      type: \"status\",\n      value: \"Failed\"\n    }, {\n      type: \"operations\",\n      value: \"idle\" + getTimeMessage(timer)\n    }]);\n  });\n\n}\n\nmodule.exports = DashboardPlugin;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)-dashboard/plugin/index.js\n// module id = 18\n// module chunks = 0","module.exports = require(\"html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-webpack-plugin\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"net\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"net\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"socket.io-client\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"socket.io-client\"\n// module id = 21\n// module chunks = 0","import express from 'express';\nimport passport from 'passport';\nimport passportLocal from 'passport-local';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport mongoose from 'mongoose';\nimport session from 'express-session';\nimport storage from '../test.json';\nimport config from './config';\n// import apiRouter from './api/routes';\n\nconst server = express();\nconst path = require('path');\n\nconst LocalStrategy = passportLocal.Strategy;\nserver.use(cookieParser());\nserver.use(bodyParser.urlencoded({ extended: true }));\n\npassport.use(new LocalStrategy(\n  (username, password, done) => {\n    const user = storage.team.members.find(item => (item === username));\n    if (user) {\n      return done(null, user);\n    } else {\n      return done(null, false, { message: 'Incorrect username or password' });\n    }\n  },\n));\n\npassport.serializeUser((user, done) => {\n  done(null, user);\n});\n\npassport.deserializeUser((user, done) => {\n  done(null, user);\n});\n\nserver.use(session({\n  secret: ',DBj2%*N;Q\"?(T9{mS{EVWvZ2G3,3BG$I)n,?mZ_3@0*?pwT2,lh@SC\"jocVdbs',\n  cookie: { maxAge: 60 * 1000 },\n  resave: true,\n  saveUninitialized: false,\n  name: 'caltcha-sid',\n}));\nserver.use(passport.initialize());\nserver.use(passport.session());\n\nif (process.env.NODE_ENV === 'dev') {\n  const webpackMiddleware = require('webpack-dev-middleware');\n  const webpackHotMiddleware = require('webpack-hot-middleware');\n  const webpack = require('webpack');\n  const webpackDevConfig = require('../webpack.dev.config.js');\n  const compiler = webpack(webpackDevConfig);\n  const middleware = webpackMiddleware(compiler, {\n    publicPath: webpackDevConfig.output.publicPath,\n    stats: { colors: true },\n  });\n  server.use(middleware);\n  server.use(webpackHotMiddleware(compiler));\n  server.use('/api', require('./api/routes'));\n  server.use('/', require('./auth.js'));\n  server.get('/', (req, res) => {\n    if (typeof req.user !== 'undefined') {\n      res.sendFile(path.join(__dirname, '../public/index.html'));\n    } else {\n      res.redirect('/login');\n    }\n  });\n} else {\n  server.use(express.static('public'));\n  server.use('/api', require('./api/routes'));\n  server.use('/', require('./auth'));\n  server.get('/', (req, res) => {\n    if (typeof req.user !== 'undefined') {\n      res.sendFile(path.join(__dirname, '../public/index.html'));\n    } else {\n      res.redirect('/login');\n    }\n  });\n}\n\nmongoose.Promise = global.Promise;\nif (process.env.NODE_ENV !== 'test') {\n  mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost/blog');\n}\n\nserver.use(bodyParser.json());\n\nserver.use((err, req, res, next) => {\n  res.status(422).send({ error: err.message });\n  next();\n});\n\nserver.listen(config.port, config.host, () => {\n  console.info('Express listening on port', config.port);\n  console.log(process.env.NODE_ENV);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./server/server.js"],"sourceRoot":""}